<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Objective Just to document my set up so I can come back and refer to it.
To set up an online cloud environment to run Stable Diffusion to create AI video (with ComfyUI and AnimateDiff).
It would save me money via:
Electricity Cost Graphic Card (which will depreciate overtime with new technology) Real life reason:
I ran out of memory and it crash my queue when I was doing AnimateDiff. 6GB VRAM on my laptop wasn&amp;rsquo;t enough and it took over 16 hours to run a partial portion of it.'>
<title>Stable Diffusion in the Cloud Set up</title>

<link rel='canonical' href='https://mythicalprogrammer.github.io/p/stable-diffusion-in-the-cloud-set-up/'>

<link rel="stylesheet" href="/scss/style.min.ae544f6e875175eb0f852537f03e029a61665cc22ad0fd93bf333e7c3bee5a8c.css"><meta property='og:title' content='Stable Diffusion in the Cloud Set up'>
<meta property='og:description' content='Objective Just to document my set up so I can come back and refer to it.
To set up an online cloud environment to run Stable Diffusion to create AI video (with ComfyUI and AnimateDiff).
It would save me money via:
Electricity Cost Graphic Card (which will depreciate overtime with new technology) Real life reason:
I ran out of memory and it crash my queue when I was doing AnimateDiff. 6GB VRAM on my laptop wasn&amp;rsquo;t enough and it took over 16 hours to run a partial portion of it.'>
<meta property='og:url' content='https://mythicalprogrammer.github.io/p/stable-diffusion-in-the-cloud-set-up/'>
<meta property='og:site_name' content='Anthony Quoc Anh Doan - Ramblings of a Happy Scientist'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='AnimateDiff' /><meta property='article:tag' content='ComfyUI' /><meta property='article:tag' content='ControlNets' /><meta property='article:published_time' content='2024-01-21T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2024-01-21T00:00:00&#43;00:00'/><meta property='og:image' content='https://mythicalprogrammer.github.io/p/stable-diffusion-in-the-cloud-set-up/vampire_elf.jpg' />
<meta name="twitter:site" content="@AnthonyDoan20">
    <meta name="twitter:creator" content="@AnthonyDoan20"><meta name="twitter:title" content="Stable Diffusion in the Cloud Set up">
<meta name="twitter:description" content="Objective Just to document my set up so I can come back and refer to it.
To set up an online cloud environment to run Stable Diffusion to create AI video (with ComfyUI and AnimateDiff).
It would save me money via:
Electricity Cost Graphic Card (which will depreciate overtime with new technology) Real life reason:
I ran out of memory and it crash my queue when I was doing AnimateDiff. 6GB VRAM on my laptop wasn&amp;rsquo;t enough and it took over 16 hours to run a partial portion of it."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://mythicalprogrammer.github.io/p/stable-diffusion-in-the-cloud-set-up/vampire_elf.jpg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hud04d226d349438d5d6dbe19a25343199_44779_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Anthony Quoc Anh Doan - Ramblings of a Happy Scientist</a></h1>
            <h2 class="site-description">An instrument of peace. Where there is hatred, let me sow love; where there is doubt, let&#39;s get some data and build a model.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/mythicalprogrammer'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://www.linkedin.com/in/anthony-anh-quoc-doan-a7234321/'
                        target="_blank"
                        title="LinkedIn"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-linkedin" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
  <path d="M8 11l0 5" />
  <path d="M8 8l0 .01" />
  <path d="M12 16l0 -5" />
  <path d="M16 16v-3a2 2 0 0 0 -4 0" />
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://mastodon.social/@anthony_doan'
                        target="_blank"
                        title="Mastodon"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-mastodon" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M18.648 15.254c-1.816 1.763 -6.648 1.626 -6.648 1.626a18.262 18.262 0 0 1 -3.288 -.256c1.127 1.985 4.12 2.81 8.982 2.475c-1.945 2.013 -13.598 5.257 -13.668 -7.636l-.026 -1.154c0 -3.036 .023 -4.115 1.352 -5.633c1.671 -1.91 6.648 -1.666 6.648 -1.666s4.977 -.243 6.648 1.667c1.329 1.518 1.352 2.597 1.352 5.633s-.456 4.074 -1.352 4.944z" />
  <path d="M12 11.204v-2.926c0 -1.258 -.895 -2.278 -2 -2.278s-2 1.02 -2 2.278v4.722m4 -4.722c0 -1.258 .895 -2.278 2 -2.278s2 1.02 2 2.278v4.722" />
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://www.reddit.com/user/anthony_doan/'
                        target="_blank"
                        title="Reddit"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-reddit" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M12 8c2.648 0 5.028 .826 6.675 2.14a2.5 2.5 0 0 1 2.326 4.36c0 3.59 -4.03 6.5 -9 6.5c-4.875 0 -8.845 -2.8 -9 -6.294l-1 -.206a2.5 2.5 0 0 1 2.326 -4.36c1.646 -1.313 4.026 -2.14 6.674 -2.14z" />
  <path d="M12 8l1 -5l6 1" />
  <path d="M19 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
  <circle cx="9" cy="13" r=".5" fill="currentColor" />
  <circle cx="15" cy="13" r=".5" fill="currentColor" />
  <path d="M10 17c.667 .333 1.333 .5 2 .5s1.333 -.167 2 -.5" />
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://stackoverflow.com/users/339405/mythicalprogrammer'
                        target="_blank"
                        title="StackOverflow"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-stackoverflow" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 17v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-1" />
  <path d="M8 16h8" />
  <path d="M8.322 12.582l7.956 .836" />
  <path d="M8.787 9.168l7.826 1.664" />
  <path d="M10.096 5.764l7.608 2.472" />
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/AnthonyDoan20'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about-me/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About Me</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        
        <li >
            <a href='/portfolio' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-folder-star" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M10 19h-5a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5" />
  <path d="M17.8 20.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z" />
</svg>
                
                <span>Portfolio</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#objective">Objective</a></li>
    <li><a href="#cloud-provider">Cloud Provider</a></li>
    <li><a href="#setting-up-a-pod-a-gpu-cloud-instance">Setting up a Pod (a GPU cloud instance)</a>
      <ol>
        <li><a href="#pod-console">Pod Console</a></li>
        <li><a href="#pod-template">Pod Template</a></li>
        <li><a href="#pod-cloud-type">Pod Cloud Type</a></li>
        <li><a href="#select-gpu">Select GPU</a></li>
        <li><a href="#deploy-gpu-instance">Deploy GPU Instance</a></li>
      </ol>
    </li>
    <li><a href="#pod-customization">Pod Customization</a>
      <ol>
        <li><a href="#set-up-comfyui-port-8188">Set up ComfyUI port 8188</a></li>
      </ol>
    </li>
    <li><a href="#pod-software-installation">Pod Software Installation</a>
      <ol>
        <li><a href="#connect-to-juypter">Connect to Juypter</a></li>
        <li><a href="#jupyter-lab-terminal">Jupyter Lab Terminal</a></li>
        <li><a href="#setup-python-virtual-environment">Setup Python Virtual Environment</a></li>
        <li><a href="#latest-comfyui-version">Latest ComfyUI version</a></li>
        <li><a href="#comfyui-setup-nvidia">ComfyUI setup Nvidia</a></li>
        <li><a href="#comfyui-managerhttpsgithubcomltdrdatacomfyui-manager-installation"><a href="https://github.com/ltdrdata/ComfyUI-Manager">ComfyUI Manager</a> Installation</a></li>
        <li><a href="#start-comfyui">Start ComfyUI</a></li>
        <li><a href="#connect-to-comfyui">Connect to ComfyUI</a></li>
      </ol>
    </li>
    <li><a href="#credits">Credits</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/stable-diffusion-in-the-cloud-set-up/">
                <img src="/p/stable-diffusion-in-the-cloud-set-up/vampire_elf_hu698cc1e37a206339e30a863b9b5838e5_69657_800x0_resize_q75_box.jpg"
                        srcset="/p/stable-diffusion-in-the-cloud-set-up/vampire_elf_hu698cc1e37a206339e30a863b9b5838e5_69657_800x0_resize_q75_box.jpg 800w, /p/stable-diffusion-in-the-cloud-set-up/vampire_elf_hu698cc1e37a206339e30a863b9b5838e5_69657_1600x0_resize_q75_box.jpg 1600w"
                        width="800" 
                        height="622" 
                        loading="lazy"
                        alt="Featured image of post Stable Diffusion in the Cloud Set up" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/artificial-intelligence/" >
                Artificial intelligence
            </a>
        
            <a href="/categories/stable-diffusion/" >
                Stable Diffusion
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/stable-diffusion-in-the-cloud-set-up/">Stable Diffusion in the Cloud Set up</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jan 21, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    3 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="objective">Objective</h2>
<p>Just to document my set up so I can come back and refer to it.</p>
<p>To set up an online cloud environment to run Stable Diffusion to create AI video (with ComfyUI and AnimateDiff).</p>
<p>It would save me money via:</p>
<ul>
<li>Electricity Cost</li>
<li>Graphic Card (which will depreciate overtime with new technology)</li>
</ul>
<p>Real life reason:</p>
<p>I ran out of memory and it crash my queue when I was doing AnimateDiff. 6GB VRAM on my laptop wasn&rsquo;t enough and it took over 16 hours to run a partial portion of it.</p>
<h2 id="cloud-provider">Cloud Provider</h2>
<p><a class="link" href="https://www.runpod.io/"  target="_blank" rel="noopener"
    >https://www.runpod.io/</a></p>
<p>I use Runpod because that&rsquo;s the first option I&rsquo;ve found.</p>
<p>I also found a tutorial on setup via youtube:
<a class="link" href="https://www.youtube.com/watch?v=PcrwJ5C3zGM"  target="_blank" rel="noopener"
    >ComfyUI AnimateDiff Prompt Travel: Runpod.io Cloud GPUs Tutorial by  c0nsumption</a></p>
<h2 id="setting-up-a-pod-a-gpu-cloud-instance">Setting up a Pod (a GPU cloud instance)</h2>
<p>To start spinning up a new instance first click on the <strong>&lsquo;New Pod&rsquo;</strong> option over at <a class="link" href="https://www.runpod.io/console/pods"  target="_blank" rel="noopener"
    >the console</a>.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/001_623pm_new_pod.PNG"
	width="762"
	height="460"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/001_623pm_new_pod_hu0436c6bdefe5583a007f48bb5117ce4b_17513_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/001_623pm_new_pod_hu0436c6bdefe5583a007f48bb5117ce4b_17513_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Spinning up a new pod."
	
	
		class="gallery-image" 
		data-flex-grow="165"
		data-flex-basis="397px"
	
></p>
<h3 id="pod-console">Pod Console</h3>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/002_645pm_pod_console.PNG"
	width="1139"
	height="676"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/002_645pm_pod_console_hua66c128e5793c8e7b532d2d6489527c9_65634_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/002_645pm_pod_console_hua66c128e5793c8e7b532d2d6489527c9_65634_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="New pod console."
	
	
		class="gallery-image" 
		data-flex-grow="168"
		data-flex-basis="404px"
	
></p>
<h3 id="pod-template">Pod Template</h3>
<p>Make sure Pod Template is set to: &lsquo;RunPod SD Comfy UI&rsquo;</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/003_647pm_pod_template.PNG"
	width="606"
	height="283"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/003_647pm_pod_template_hud8c63ac68950ba11a2bf53eab0f93df1_17608_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/003_647pm_pod_template_hud8c63ac68950ba11a2bf53eab0f93df1_17608_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Template."
	
	
		class="gallery-image" 
		data-flex-grow="214"
		data-flex-basis="513px"
	
></p>
<h3 id="pod-cloud-type">Pod Cloud Type</h3>
<p>Select cloud type using the <strong>Cloud Type</strong> drop down filter menu. I chose the <em>&lsquo;Community Cloud&rsquo;</em> option because it&rsquo;s cheaper.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/004_651pm_pod_cloud_type.PNG"
	width="243"
	height="104"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/004_651pm_pod_cloud_type_huc6a75c39f828504f8a4a5c88d11525a3_3361_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/004_651pm_pod_cloud_type_huc6a75c39f828504f8a4a5c88d11525a3_3361_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Cloud Type."
	
	
		class="gallery-image" 
		data-flex-grow="233"
		data-flex-basis="560px"
	
></p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/005_652pm_pod_cloud_type_options.PNG"
	width="268"
	height="207"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/005_652pm_pod_cloud_type_options_hu28067c2bbdd436e17259241a9c9c0194_16241_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/005_652pm_pod_cloud_type_options_hu28067c2bbdd436e17259241a9c9c0194_16241_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Cloud Type Options."
	
	
		class="gallery-image" 
		data-flex-grow="129"
		data-flex-basis="310px"
	
></p>
<h3 id="select-gpu">Select GPU</h3>
<p>I chose this option for my first run. Click the option, <strong>&lsquo;Deploy&rsquo;</strong>.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/006_700pm_pod_cloud_gpu_option_chosen.PNG"
	width="365"
	height="328"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/006_700pm_pod_cloud_gpu_option_chosen_hub13e3bb5cb91c8a3efbb43a980215a2d_18201_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/006_700pm_pod_cloud_gpu_option_chosen_hub13e3bb5cb91c8a3efbb43a980215a2d_18201_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Cloud GPU option."
	
	
		class="gallery-image" 
		data-flex-grow="111"
		data-flex-basis="267px"
	
></p>
<p>You will end up with the next menu, check all the option is correct. Make sure the <em>&lsquo;Start Jupyter Notebook&rsquo;</em> checkbox is checked. Once confirming that the GPU instance configurations is correct click on the button, <strong>&lsquo;Continue&rsquo;</strong>.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/007_702pm_pod_confirmation.PNG"
	width="1530"
	height="528"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/007_702pm_pod_confirmation_hudc26b2010ff706ac698d5694055a7789_69477_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/007_702pm_pod_confirmation_hudc26b2010ff706ac698d5694055a7789_69477_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Cloud confirmation. Yes the graphic on the console is messed up. That&rsquo;s how it&rsquo;s render in Chrome browser."
	
	
		class="gallery-image" 
		data-flex-grow="289"
		data-flex-basis="695px"
	
></p>
<h3 id="deploy-gpu-instance">Deploy GPU Instance</h3>
<p>Look over the pricing summary for the extra/hidden cost on top of the GPU pricing rate. Once you&rsquo;re okay with the total cost, click on the button <strong>&lsquo;Deploy&rsquo;</strong>.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/008_711pm_pod_final_confirmation_pricing_summary.PNG"
	width="1038"
	height="467"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/008_711pm_pod_final_confirmation_pricing_summary_hucea5bcf616d70e358d0440f6c98e98f6_51554_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/008_711pm_pod_final_confirmation_pricing_summary_hucea5bcf616d70e358d0440f6c98e98f6_51554_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Cloud Instance Pricing Summary. Yes the graphic on the console is messed up. That&rsquo;s how it&rsquo;s render in Chrome browser."
	
	
		class="gallery-image" 
		data-flex-grow="222"
		data-flex-basis="533px"
	
></p>
<p>It&rsquo;ll redirect you to the Pod Console where your new instance is now created but not started.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/009_716pm_pod_console.PNG"
	width="1549"
	height="252"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/009_716pm_pod_console_hu654162822654bfbdd6ef0d7548ebf5fb_32204_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/009_716pm_pod_console_hu654162822654bfbdd6ef0d7548ebf5fb_32204_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Console with your new pod instance."
	
	
		class="gallery-image" 
		data-flex-grow="614"
		data-flex-basis="1475px"
	
></p>
<p>More info on the pod by clicking the purple arrow button.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/010_720pm_pod_info.PNG"
	width="1550"
	height="521"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/010_720pm_pod_info_hue89b00dae94aec039a5a3f7c8cb3f22e_56086_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/010_720pm_pod_info_hue89b00dae94aec039a5a3f7c8cb3f22e_56086_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Info"
	
	
		class="gallery-image" 
		data-flex-grow="297"
		data-flex-basis="714px"
	
></p>
<h2 id="pod-customization">Pod Customization</h2>
<h3 id="set-up-comfyui-port-8188">Set up ComfyUI port 8188</h3>
<p><strong>IMPORTANT</strong></p>
<p>Click on the hamburger button (the three horizontal line button) aka <strong>More Actions</strong>.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/013_pod_menu.PNG"
	width="434"
	height="107"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/013_pod_menu_hubc2712cf2ffbb125da2b82ebe118f8f5_6759_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/013_pod_menu_hubc2712cf2ffbb125da2b82ebe118f8f5_6759_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Hamburger"
	
	
		class="gallery-image" 
		data-flex-grow="405"
		data-flex-basis="973px"
	
></p>
<p>Select &lsquo;Edit Pod&rsquo;.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/014_pod_menu_hambuger_options.PNG"
	width="514"
	height="239"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/014_pod_menu_hambuger_options_huc9b148e40aa91fc0d87c6b59aff9ab82_40133_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/014_pod_menu_hambuger_options_huc9b148e40aa91fc0d87c6b59aff9ab82_40133_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Hamburger Options"
	
	
		class="gallery-image" 
		data-flex-grow="215"
		data-flex-basis="516px"
	
></p>
<p>You should get this menu.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/015_edit_pod_menu.PNG"
	width="1088"
	height="669"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/015_edit_pod_menu_hu7a304730aef8d0f5c65dab45cf40b0a3_55253_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/015_edit_pod_menu_hu7a304730aef8d0f5c65dab45cf40b0a3_55253_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Edit Pod menu."
	
	
		class="gallery-image" 
		data-flex-grow="162"
		data-flex-basis="390px"
	
></p>
<ol>
<li>From the menu above, locate <em>&lsquo;Expose TCP Ports&rsquo;</em>.</li>
<li>Add <strong>8188</strong> to that field. Note you should now have <em>&lsquo;22,8188&rsquo;</em> (see picture below).</li>
<li>Port 8188 is the default ComfyUI port.</li>
</ol>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/016_expose_tcp_ports_8188.PNG"
	width="527"
	height="89"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/016_expose_tcp_ports_8188_hu0eace8e6cde9764b301e6b353fd92369_3476_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/016_expose_tcp_ports_8188_hu0eace8e6cde9764b301e6b353fd92369_3476_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Expose TCP Ports. Add in port 8188."
	
	
		class="gallery-image" 
		data-flex-grow="592"
		data-flex-basis="1421px"
	
></p>
<p>Click <em>Save</em>.</p>
<h2 id="pod-software-installation">Pod Software Installation</h2>
<h3 id="connect-to-juypter">Connect to Juypter</h3>
<p>Click on the <strong>&lsquo;Connect&rsquo;</strong>.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/011_connect_pod.PNG"
	width="302"
	height="190"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/011_connect_pod_hu985d36e44075adac15ba50c13c96e34b_7917_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/011_connect_pod_hu985d36e44075adac15ba50c13c96e34b_7917_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Connect"
	
	
		class="gallery-image" 
		data-flex-grow="158"
		data-flex-basis="381px"
	
></p>
<p>You&rsquo;ll get this menu:</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/012_connect_pod_menu.PNG"
	width="674"
	height="665"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/012_connect_pod_menu_hu3b895798b8d11a6e88c5d3f139066791_44523_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/012_connect_pod_menu_hu3b895798b8d11a6e88c5d3f139066791_44523_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Connect menu."
	
	
		class="gallery-image" 
		data-flex-grow="101"
		data-flex-basis="243px"
	
></p>
<p>Select the option <strong>Connect to Jupyter Lab [Port 8888]</strong>. This will open a new tab in your browser with Jupyter Lab.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/017_connect_to_jupyter_lab_port_8888.PNG"
	width="345"
	height="53"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/017_connect_to_jupyter_lab_port_8888_hu28712a4630e896890d7af9875905361e_4589_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/017_connect_to_jupyter_lab_port_8888_hu28712a4630e896890d7af9875905361e_4589_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Connect to Jupyter Lab Port 8888."
	
	
		class="gallery-image" 
		data-flex-grow="650"
		data-flex-basis="1562px"
	
></p>
<h3 id="jupyter-lab-terminal">Jupyter Lab Terminal</h3>
<p>From the <em>Other</em> menu, select the <em>Terminal</em> option.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/018_jupyter_lab_other_menu.PNG"
	width="768"
	height="288"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/018_jupyter_lab_other_menu_hue22ce19f01fc4e83a8fdb3a864a609f8_11789_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/018_jupyter_lab_other_menu_hue22ce19f01fc4e83a8fdb3a864a609f8_11789_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Jupyter Lab Other menu options."
	
	
		class="gallery-image" 
		data-flex-grow="266"
		data-flex-basis="640px"
	
></p>
<p>From here you should get this terminal:</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/019_jupyter_lab_terminal.PNG"
	width="415"
	height="185"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/019_jupyter_lab_terminal_hue93c85a38b1832848764fbe33539b37c_7138_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/019_jupyter_lab_terminal_hue93c85a38b1832848764fbe33539b37c_7138_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Jupyter Lab Terminal."
	
	
		class="gallery-image" 
		data-flex-grow="224"
		data-flex-basis="538px"
	
></p>
<p><strong>NOTE/WARNING:</strong> Anything in the <strong>/workspace</strong> directory will persist and exist after you stop your instance. Anything outside of this folder will not persist.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/020_jupyter_lab_left_panel_file_explorer.PNG"
	width="373"
	height="252"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/020_jupyter_lab_left_panel_file_explorer_hu50dcfc7c390eb886e09ef3c1aab18f65_10015_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/020_jupyter_lab_left_panel_file_explorer_hu50dcfc7c390eb886e09ef3c1aab18f65_10015_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Jupyter Lab Leftside Panel File Explorer."
	
	
		class="gallery-image" 
		data-flex-grow="148"
		data-flex-basis="355px"
	
></p>
<h3 id="setup-python-virtual-environment">Setup Python Virtual Environment</h3>
<p>Type below into Jupyter&rsquo;s terminal:</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python -m venv venv
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/021_jupyter_python_venv.PNG"
	width="518"
	height="101"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/021_jupyter_python_venv_huf3895cf23b6886554e672ecda22cc054_7242_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/021_jupyter_python_venv_huf3895cf23b6886554e672ecda22cc054_7242_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Setup Python Virtual Environment."
	
	
		class="gallery-image" 
		data-flex-grow="512"
		data-flex-basis="1230px"
	
></p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/022_jupyter_python_venv.PNG"
	width="378"
	height="231"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/022_jupyter_python_venv_hu46b5d3ffbd16961878f426236755c699_11317_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/022_jupyter_python_venv_hu46b5d3ffbd16961878f426236755c699_11317_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Setup Python Virtual Environment."
	
	
		class="gallery-image" 
		data-flex-grow="163"
		data-flex-basis="392px"
	
></p>
<p>Activate virtual environment:</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#b58900">source</span> venv/bin/activate
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/023_jupyter_python_venv.PNG"
	width="561"
	height="55"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/023_jupyter_python_venv_huc9e7134cea4bac8d94e9190aef9c1d86_5944_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/023_jupyter_python_venv_huc9e7134cea4bac8d94e9190aef9c1d86_5944_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Activate Python Virtual Environment."
	
	
		class="gallery-image" 
		data-flex-grow="1020"
		data-flex-basis="2448px"
	
></p>
<h3 id="latest-comfyui-version">Latest ComfyUI version</h3>
<p>Get the latest ComfyUI version.</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#b58900">cd</span> /workspace/ComfyUI
</span></span><span style="display:flex;"><span>git pull
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="comfyui-setup-nvidia">ComfyUI setup Nvidia</h3>
<p><a class="link" href="https://github.com/comfyanonymous/ComfyUI"  target="_blank" rel="noopener"
    >Following the Linux Nvidia installation instruction.</a></p>
<p>Type the commands below in Jupyter Terminal:</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#b58900">cd</span> ComfyUI
</span></span><span style="display:flex;"><span>pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu121
</span></span></code></pre></td></tr></table>
</div>
</div><p>Then do this:</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install -r requirements.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="comfyui-managerhttpsgithubcomltdrdatacomfyui-manager-installation"><a class="link" href="https://github.com/ltdrdata/ComfyUI-Manager"  target="_blank" rel="noopener"
    >ComfyUI Manager</a> Installation</h3>
<p>Go to the <code>custom_nodes</code> folder:</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#b58900">cd</span> /workspace/ComfyUI/custom_nodes/
</span></span></code></pre></td></tr></table>
</div>
</div><p>Once in the <code>custom_nodes</code> folder, we going to do <code>git clone</code>.</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/ltdrdata/ComfyUI-Manager.git
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="start-comfyui">Start ComfyUI</h3>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cd /workspace/ComfyUI/
</span></span><span style="display:flex;"><span>python main.py --listen
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="connect-to-comfyui">Connect to ComfyUI</h3>
<p>Go back to <strong>Pod Console</strong>, click on the <code>Connect</code> button.</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/024_connect_to_comfyui.PNG"
	width="472"
	height="461"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/024_connect_to_comfyui_hu194a1535b357d1f4570db8f7e0e8a3b5_26824_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/024_connect_to_comfyui_hu194a1535b357d1f4570db8f7e0e8a3b5_26824_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod Console."
	
	
		class="gallery-image" 
		data-flex-grow="102"
		data-flex-basis="245px"
	
></p>
<p>Notice the <code>Public IP</code> and <code>External</code> port across from Internal port 8188 (ComfyUI default port).</p>
<p>That&rsquo;s how you get you to comfyui in your browser:</p>
<p><code>Public IP</code>:<code>External</code></p>
<p><code>Public IP</code>:40007</p>
<p><img src="/p/stable-diffusion-in-the-cloud-set-up/img/025_connect_to_comfyui.PNG"
	width="692"
	height="391"
	srcset="/p/stable-diffusion-in-the-cloud-set-up/img/025_connect_to_comfyui_hucd4b96e3fd6f91ac78ca4588899d34db_45712_480x0_resize_box_3.PNG 480w, /p/stable-diffusion-in-the-cloud-set-up/img/025_connect_to_comfyui_hucd4b96e3fd6f91ac78ca4588899d34db_45712_1024x0_resize_box_3.PNG 1024w"
	loading="lazy"
	
		alt="Pod TCP port mappings."
	
	
		class="gallery-image" 
		data-flex-grow="176"
		data-flex-basis="424px"
	
></p>
<h2 id="credits">Credits</h2>
<p>Stopped at video 8 min 00 sec.</p>
<ul>
<li><a class="link" href="./vampire_elf.jpg" >Vampire Elf picture</a>: created by me using <a class="link" href="https://en.wikipedia.org/wiki/Stable_Diffusion"  target="_blank" rel="noopener"
    >Stable Diffusion</a> and <a class="link" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui"  target="_blank" rel="noopener"
    >A1111</a>.</li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/animatediff/">AnimateDiff</a>
        
            <a href="/tags/comfyui/">ComfyUI</a>
        
            <a href="/tags/controlnets/">ControlNets</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2009 - 
        
        2024 Anthony Quoc Anh Doan - Ramblings of a Happy Scientist
        
    </section>
    
    <section>
      <p align="center">Desiderata by Max Ehrmann</p>
      <p>
          Go placidly amid the noise and the haste, and remember what peace there may be in silence. As far as possible without surrender be on good terms with all persons. Speak your truth quietly and clearly; and listen to others, even to the dull and the ignorant, they too have their story. Avoid loud and aggressive persons, they are vexations to the spirit.
      </p>

      <p>
    If you compare yourself with others, you may become vain or bitter; for always there will be greater and lesser persons than yourself. Enjoy your achievements as well as your plans. Keep interested in your own career, however humble; it is a real possession in the changing fortunes of time.
      </p>

      <p>
    Exercise caution in your business affairs, for the world is full of trickery. But let not this blind you to what virtue there is; many persons strive for high ideals, and everywhere life is full of heroism. Be yourself. Especially do not feign affection. Neither be cynical about love; for in the face of all aridity and disenchantment it is as perennial as the grass. Take kindly the counsel of the years, gracefully surrendering the things of youth.
      </p>

      <p>
    Nurture strength of spirit to shield you in sudden misfortune. But do not distress yourself with dark imaginings. Many fears are born of fatigue and loneliness. Beyond a wholesome discipline, be gentle with yourself. You are a child of the universe, no less than the trees and the stars; you have a right to be here. And whether or not it is clear to you, no doubt the universe is unfolding as it should.
      </p>

      <p>
    Therefore, be at peace with God, whatever you conceive Him to be. And whatever your labors and aspirations in the noisy confusion of life, keep peace in your soul. With all its sham, drudgery and broken dreams; it is still a beautiful world. Be cheerful.
      </p>

      <p>
    Strive to be happy.
      </p>
      
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.17.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
